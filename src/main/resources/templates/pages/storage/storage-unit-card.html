<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/layout.html}">
<head>
    <meta charset="utf-8">
    <title>РГАЛИ - единица храненияы</title>
    <meta name="keywords" content="">
    <meta name="description" content="">
    <link th:href="@{/css/opis-card.css}" rel="stylesheet">
    <link th:href="@{/css/fund-card.css}" rel="stylesheet">
    <meta name="language" content="ru">
    <meta name="format-detection" content="telephone=no">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <style>
        ol {
            margin-block-start: 1px;
            margin-block-end: 1px;
        }
    </style>
</head>
<body>

<main class="content" layout:fragment="content">
    <div class="content">
        <div th:replace="fragments/menu :: menu"></div>
    </div>

    <div class="b-indent_s_40"></div>
    <div class="b-indent b-indent_s_10"></div>

    <div class="b-table-button-return">
        <div class="b-indent b-indent_s_10"></div>
        <div th:replace="fragments/back-button :: back-button(backUrl = '/search')" ></div>

        <div class="b-table b-table_mod_border">
            <div class="b-table__wrap">
                <table class="b-table__table" style="width: 930px;">
                    <tbody class="b-table__body">
                    <tr class="b-table__row">
                        <td class="b-table__cell b-table__cell_align_center" style="width:50px">
                            <p class="b-table__text"><a th:text="${model.fund.displayFondNumber}" th:href="'/opis?fundId=' + ${model.fund.id}" class="blue-linked">Ф.10</a></p>
                        </td>
                        <td class="b-table__cell" style="width:300px">
                            <p th:text="${model.fund.fullFondName}" class="b-table__text">Аксаковы: Сергей Тимофеевич (1791-1859) - писатель; его сыновья:
                                Константин Сергеевич (1817-1860) - поэт, публицист; Григорий Сергеевич (1820-1891) -
                                сибирский губернатор; Иван Сергеевич (1823-1886) - поэт, публицист.</p>
                        </td>
                        <td class="b-table__cell b-table__cell_align_center" style="width:150px">
                            <p th:text="${model.fund.extremeDates}" class="b-table__text">1739 - 1915 гг.</p>
                        </td>
                        <td class="b-table__cell b-table__cell_align_center" style="width:100px">
                            <p class="b-table__text"><a th:text="${model.fund.units}" th:href="'/storage-unit?fundId=' + ${model.fund.id}" class="blue-linked">721</a></p>
                        </td>
                        <td class="b-table__cell b-table__cell_align_center" style="width:50px">
                            <p class="b-table__text"></p><a th:href="'/fund/' + ${model.fund.id}" class="context-menu__toggle"></a>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="b-flex b-content-inf-storage-unit-card" style="min-height: 500px">
            <div th:if="${model.storageUnit == null}" class="b-content-inf-opis-card-inf">
                <div class="fund-inf_title">Данные не найдены</div>
            </div>

            <div th:if="${model.storageUnit != null}" class="b-content-inf-opis-card-inf">
                <div class="content-inf-opis-card">
                    <div class="opis-list">
                        <a  th:text="${model.storageUnit.displayNumber}" class="fund_attribute-value">ф.10 оп.1</a>
                    </div>
                </div>
                <div class="fund-inf_title">СВЕДЕНИЯ</div>
                <div th:if="${model.storageUnit.systemPartition != null}">
                    <label class="fund_attribute">Раздел систематизации:</label>
                    <a th:text="${model.storageUnit.systemPartition}"
                       th:href=" '/storage-unit?fundId=' + ${model.storageUnit.fondId} + '&opisId=' +
                                                           ${model.storageUnit.opisId} + '&systemId=' +
                                                           ${model.storageUnit.systemPartitionId} "
                       class="fund_attribute-value blue-linked"

                    >1. Статьи, дневники, отзывы, приветствия и
                        др./1. Рукописи Н.П. Аносова</a>
                </div>
                <div th:if="${model.storageUnit.number != null}">
                    <label class="fund_attribute">Номер единицы хранения:</label>
                    <a th:text="${model.storageUnit.number}" class="fund_attribute-value">15</a>
                </div>
                <div th:if="${model.storageUnit.displayNumber != null}">
                    <label class="fund_attribute">Шифр:</label>
                    <a th:text="${model.storageUnit.displayNumber}"  class="fund_attribute-value">Ф.2795 Оп.1 Ед.хр.15</a>
                </div>
                <div>
                    <label class="fund_attribute">Заголовок:</label>
                    <a th:text="${model.storageUnit.title}" class="fund_attribute-value">"Радостное и светлое искусство (о постановке оперы "Сказка о царе
                        Салтане" в ГАБТе)", "Будапештские впечатления", "Гастроли национального оркестра французского
                        радио и телевидения", "Карло Цекки", "Гуандунский оркестр", "Ответы и вопросы профессора
                        национальной школы музыки в Рио-де-Жанейро А. Лаззоли", "На концертах польских артистов".
                        Статьи. На русском и французском языках.</a>
                </div>
                <div th:if="${model.storageUnit.dates != null}">
                    <label class="fund_attribute">Крайние даты:</label>
                    <a th:text="${model.storageUnit.dates}" class="fund_attribute-value">21 января - 23 октября 1959</a>
                </div>
                <div th:if="${model.storageUnit.pages != null}">
                    <label class="fund_attribute">Количество листов:</label>
                    <a th:text="${model.storageUnit.pages}" class="fund_attribute-value">40</a>
                </div>
                <div th:if="${model.storageUnit.authorPersons.size > 0}">
                    <label class="fund_attribute">Авторы-персоны:</label>
                    <ol class="fund_attribute-value" >
                        <li th:each="person : ${model.storageUnit.authorPersons}">
                            <a th:text="${person.fio}" th:href="'/person/' + ${person.id}" class="fund_attribute-value blue-linked">Аксаков
                                Константин Сергеевич</a>
                        </li>
                    </ol>
                </div>

                <div th:if="${model.storageUnit.persons.size > 0}">
                    <label class="fund_attribute">Персоны:</label>
                    <ol class="fund_attribute-value" >
                        <li th:each="person : ${model.storageUnit.persons}">
                            <a th:text="${person.fio}" th:href="'/person/' + ${person.id}" class="fund_attribute-value blue-linked">Аксаков
                                Константин Сергеевичx</a>
                        </li>
                    </ol>
                </div>

                <div th:if="${model.storageUnit.authorOrganizations.size > 0}">
                    <label class="fund_attribute">Авторы-организации:</label>
                    <ol class="fund_attribute-value" >
                        <li th:each="org : ${model.storageUnit.authorOrganizations}">
                            <a th:text="${org.orgName}" th:href="'/organization/' + ${org.orgId}" class="fund_attribute-value blue-linked">Аксаков
                                Константин Сергеевич</a>
                        </li>
                    </ol>
                </div>

                <div th:if="${model.storageUnit.organizations.size > 0}">
                    <label class="fund_attribute">Организации:</label>
                    <ol class="fund_attribute-value" >
                        <li th:each="org : ${model.storageUnit.organizations}">
                            <a th:text="${org.orgName}" th:href="'/organization/' + ${org.orgId}" class="fund_attribute-value blue-linked">Аксаков
                                Константин Сергеевич</a>
                        </li>
                    </ol>
                </div>

                <div th:if="${model.storageUnit.annotation != null}">
                    <label class="fund_attribute">Аннотация:</label>
                    <a th:text="${model.storageUnit.annotation}" class="fund_attribute-value">21 января - 23 октября 1959</a>
                </div>

                <div th:if="${!model.storageUnit.playMethod.isEmpty()}">
                    <label class="fund_attribute">Способ воспроизведения:</label>
                    <a th:text="${model.storageUnit.playMethod}" class="fund_attribute-value">21 января - 23 октября 1959</a>
                </div>

                <div th:if="${!model.storageUnit.materialType.isEmpty()}">
                    <label class="fund_attribute">Основа (материалы):</label>
                    <a th:text="${model.storageUnit.materialType}" class="fund_attribute-value">21 января - 23 октября 1959</a>
                </div>

                <div th:if="${model.storageUnit.theme.size > 0}">
                    <label class="fund_attribute">Темы:</label>
                    <ol class="fund_attribute-value" >
                        <li th:each="them : ${model.storageUnit.theme}">
                            <a th:text="${them.name}" class="fund_attribute-value">Аксаков
                                Константин Сергеевич</a>
                        </li>
                    </ol>
                </div>

                <div th:if="${model.storageUnit.documentGroup.size > 0}">
                    <label class="fund_attribute">Тематическая подборка:</label>
                    <ol class="fund_attribute-value" >
                        <li th:each="them : ${model.storageUnit.documentGroup}">
                            <a th:text="${them.name}" class="fund_attribute-value">Аксаков
                                Константин Сергеевич</a>
                        </li>
                    </ol>
                </div>

                <div th:if="${model.storageUnit.rubrika.size > 0}">
                    <label class="fund_attribute">Рубрика по систематическому каталогу:</label>
                    <ol class="fund_attribute-value" >
                        <li th:each="them : ${model.storageUnit.rubrika}">
                            <a th:text="${them.name}" class="fund_attribute-value">Аксаков
                                Константин Сергеевич</a>
                        </li>
                    </ol>
                </div>

                <div th:if="${model.storageUnit.place.size > 0}">
                    <label class="fund_attribute">География:</label>
                    <ol class="fund_attribute-value" >
                        <li th:each="them : ${model.storageUnit.place}">
                            <a th:text="${them.name}" class="fund_attribute-value">Аксаков
                                Константин Сергеевич</a>
                        </li>
                    </ol>
                </div>

            </div>
        </div>
        <th:block sec:authorize="isAuthenticated()">
            <div style="margin-top:20px">
                <a class="b-button-rgali" style="text-decoration: none" th:href="'/cabinet/requirements-new/deal-id/' + ${model.storageUnit.id}">
                    <div class="b-button__text"  style="width: 180px; text-align: center;">Заказать в читальный зал</div>
                </a>
                <a class="b-button-rgali" style="margin-left: 15px; text-decoration: none" onclick="addToChart(this.id)" href="#"  th:id="${model.storageUnit.id}">
                    <div class="b-button__text" style="width: 100px; text-align: center;">В корзину</div>
                </a>
            </div>

            <div id="infoMessage" class="fund_attribute-value" style="margin-top:20px; text-align: center"></div>
        </th:block>

        <div class="b-indent_s_40"></div>
    </div>

    <script type="text/javascript" th:src="@{/js/main.js}"></script>
    <script type="text/javascript">
             function addToChart(id) {
                $.get("/api/v1/recycle/" + id, function( data ) {
                    $("#infoMessage").text(data);
                });
             }
    </script>
</main>

</body>
</html>